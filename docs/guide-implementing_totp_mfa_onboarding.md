# Multi-Factor Authentication

**NOTE** - AuthN MFA support is currently considered in beta.  The API will not be considered stable until v2.

AuthN supports multi-factor authentication using TOTP codes generated by a user's authenticator app.  It does not 
presently support externally delivered codes. 

## Configuration

* No configuration needed.

## Implementation

Assuming an authenticated user applications can use the endpoint `/totp/new` to get a new TOTP secret for the user. 
This response will contain both the secret and an onboarding URL - either of which can be used to present your front-end 
onboarding flow to the user.  This secret is temporarily stored in redis pending user confirmation.

After completing the onboarding flow your front end should have a valid code generated from the user's authenticator app 
using the provided secret.  This should be posted to `/totp/confirm` which will persist the secret to the database and require 
MFA on the user's account.

Once a user's TOTP secret has been persisted it will be required to send a valid code generated from the secret in any 
future posts to `/session` to authenticate that account. 
